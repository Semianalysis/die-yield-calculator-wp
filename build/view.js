(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var a=e.g.document;if(!t&&a&&(a.currentScript&&"SCRIPT"===a.currentScript.tagName.toUpperCase()&&(t=a.currentScript.src),!t)){var r=a.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=r[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=window.ReactDOM;var a=e.n(t);const r=window.React;var i=e.n(r);function s(e){return i().createElement("div",{className:e.disabled?"checkbox--disabled":"checkbox"},i().createElement("label",null,i().createElement("input",{type:"checkbox",onChange:e.onChange,checked:e.checked,disabled:e.disabled}),e.label))}function l(e){const t=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const e=e=>e.stopPropagation();return t.current?.addEventListener("wheel",e),()=>t.current?.removeEventListener("wheel",e)}),[]),i().createElement("div",null,i().createElement("label",{className:e.isDisabled?"disabled":""},e.label,i().createElement("input",{type:"number",disabled:e.isDisabled,value:e.value,onChange:e.onChange,onBlur:e.onBlur,ref:t,step:"0.01",max:e.max,min:e.min})))}const n=.2,h={s300mm:{name:"300 mm (12 in)",height:300,width:300},s305mm:{name:"305 x 457 mm² (12 x 18 in²)",height:305,width:457},s457mmsq:{name:"457 mm² (18 in)",height:457,width:457},s457x600mm:{name:"457 x 600 mm² (18 x 24 in²)",width:457,height:600},s510mm:{name:"510 x 515 mm² (21 in)",height:510,width:515},s600m:{name:"600 mm (24 in)",height:600,width:600}},o={s51mm:{name:"51 mm (2 in)",width:51},s76mm:{name:"76 mm (3 in)",width:76},s100mm:{name:"100 mm (4 in)",width:100},s125mm:{name:"125 mm (5 in)",width:125},s150mm:{name:"150 mm (6 in)",width:150},s200mm:{name:"200 mm (8 in)",width:200},s300mm:{name:"300 mm (12 in)",width:300},s450mm:{name:"450 mm (18 in)",width:450}},c={poisson:{name:"Poisson Model",yield:e=>Math.exp(-e)},murphy:{name:"Murphy's Model",yield:e=>Math.pow((1-Math.exp(-e))/e,2)},rect:{name:"Rectangular Model",yield:e=>(1-Math.exp(-2*e))/(2*e)},moore:{name:"Moore's Model",yield:e=>Math.exp(-Math.sqrt(e))},seeds:{name:"Seeds Model",yield:e=>1/(1+e)},"bose-einstein":{name:"Bose-Einstein Model",yield:(e,t)=>Math.pow(1/(1+e),t)}};function d(e,t,a,r){return[{x:e,y:t},{x:e+a,y:t},{x:e,y:t+r},{x:e+a,y:t+r}]}function m(e,t,a,r,i){return Math.sqrt((e-a)**2+(t-r)**2)<=i}function u(e,t,a,r,i,s){return e>=a&&e<=a+i&&t>=r&&t<=r+s}function p(e,t,a,r,i,s,l,n,h){const o=d(e,t,a,r).filter((e=>u(e.x,e.y,i,s,l,n)));return h?o.filter((e=>e.x!==i&&e.x!==i+l&&e.y!==s&&e.y!==s+n)).length>0:4===o.length}function g(e,t,a,r,i,s,l,n,h,o){const c=[],d=a+i,m=r+s,u=i/2,g=s/2,E=Math.floor(e/d),v=Math.floor(t/m);let f=0,M=0;h&&(f=(e-(E*d-i))/2,M=(t-(v*m-s))/2);let w=0,z=0;for(let i=0;i<=v;i++)for(let s=0;s<=E;s++){const h=f+s*d+l+u,E=M+i*m+n+g;p(h,E,a,r,0,0,e,t,o)&&(c.push({x:h,y:E}),w=i+1,z=s+1)}return{positions:c,numRows:w,numCols:z}}function E(e,t,a,r){if(!e)return 1;const i=t*e/100;return"bose-einstein"===a?c[a].yield(i,r):c[a].yield(i)}function v(e){let t=0,a=0,r=0,i=0;return e.forEach((e=>{switch(e){case"good":t++;break;case"defective":a++;break;case"partial":r++;break;case"lost":i++}})),{goodDies:t,defectiveDies:a,partialDies:r,lostDies:i}}function f(e,t){const a=t?.5*e.scribeHoriz:-.5*e.dieWidth,r=t?.5*e.scribeVert:-.5*e.dieHeight;return{x:a+e.transHoriz,y:r+e.transVert}}function M(e,t,a,r,i,s){return g(i,s,e,t,a,r,0,0,!0,!1)}function w(e,t,a,r,i,s){let l=0,n=0,h=0;const o=[],c=e.reduce(((e,i,c)=>{const m=t.map(((e,t)=>{let n="good";const h=e.x+i.x,o=e.y+i.y,m=d(h,o,a,r).filter(s);return m.length?m.length<4?n="partial":l+=1:n="lost",{key:`${c}:${t}`,dieState:n,x:h,y:o,width:a,height:r}})),u=m.filter((e=>"good"===e.dieState)).length;return u?(o.push(i),u===m.length?n+=1:h+=1,[...e,...m]):e}),[]);c.sort(((e,t)=>"good"===e.dieState&&"good"!==t.dieState?-1:"good"!==e.dieState&&"good"===t.dieState?1:0));const m=l-Math.floor(i*l),u=function(e,t,a){const r=new Set;for(;r.size<a;){const e=Math.floor(Math.random()*(t-0+1))+0;r.add(e)}return r}(0,l-1,m);return u.forEach((e=>{c[e].dieState="defective"})),{dies:c,fullShotCount:n,partialShotCount:h,shotsOnWafer:o}}function z(e,t,a,r,i){return a*r*i/(e*t)}const k=e=>!isNaN(e)&&e>=0,y=({dieWidth:e,scribeHoriz:t},{fieldWidth:a})=>k(e)?k(t)?e<n?"Die must be at least 0.2mm wide":e+t>a?`Die and scribe line width must be less than or equal to the field width (${a}mm).`:void 0:"Invalid horizontal scribe line width":"Invalid die width",b=({dieHeight:e,scribeVert:t},{fieldHeight:a})=>k(e)?k(t)?e<n?"Die must be at least 0.2mm tall":e+t>a?`Die and scribe line height must be less than or equal to the field height (${a}mm).`:void 0:"Invalid vertical scribe line width":"Invalid die height",S={dieWidth:y,dieHeight:b,criticalArea:({criticalArea:e,dieHeight:t,dieWidth:a})=>k(e)?e>a*t?"Critical area must be less than or equal to die area":void 0:"Invalid critical area",criticalLayers:({criticalLayers:e})=>{if(isNaN(e)||e<1||e>100)return"Invalid critical layer count"},defectRate:({defectRate:e})=>{if(!k(e))return"Invalid defect rate"},lossyEdgeWidth:({lossyEdgeWidth:e})=>{if(!k(e))return"Invalid lossy edge width"},notchKeepOutHeight:({notchKeepOutHeight:e})=>{if(!k(e))return"Invalid notch keep-out height"},scribeHoriz:y,scribeVert:b,transHoriz:({transHoriz:e})=>{if(isNaN(e))return"Invalid horizontal translation"},transVert:({transVert:e})=>{if(isNaN(e))return"Invalid vertical translation"}};function x(e,t,a,i,s,l,n){const[c,p]=(0,r.useState)(null),[k,y]=(0,r.useState)();var b,x;return b=()=>{const r=Object.keys(S).map((t=>(0,S[t])(e,{fieldWidth:l,fieldHeight:n}))).filter(Boolean);r.length?(p(null),y(r[0])):"Wafer"===a?p(function(e,t,a,r,i){const{dieWidth:s,dieHeight:l,criticalArea:n,defectRate:h,lossyEdgeWidth:c,notchKeepOutHeight:u,scribeHoriz:p,scribeVert:g,criticalLayers:k}=e,y=E(h,n,a,k),{width:b}=o[t],{x:S,y:x}=f(e,!0),P=function(e,t,a,r,i,s,l){const n=e/2,h=[];for(let e=0;e<=n;e+=a+0)for(let r=0;r<=n;r+=t+0)for(let i=0;i<4;i++){const o=(i%2==0?r:-r-t-0)+s,c=(i%3==0?e:-e-a-0)+l,u=1;d(o,c,t,a).filter((e=>m(e.x,e.y,0,0,n))).length>=u&&h.push({x:o+n,y:c+n})}return h}(b,r,i,0,0,S,x),V=M(s,l,p,g,r,i),A=w(P,V.positions,s,l,y,(e=>{const t=b/2-c,a=m(e.x,e.y,b/2,b/2,t),r=e.y<b-u;return a&&r})),{defectiveDies:H,partialDies:_,lostDies:W,goodDies:N}=v(A.dies.map((e=>e.dieState)));return{dies:A.dies,totalDies:A.dies.length,diePerRow:V.numCols,diePerCol:V.numRows,goodDies:N,defectiveDies:H,partialDies:_,lostDies:W,fabYield:y,fields:P,fullShotCount:A.fullShotCount,partialShotCount:A.partialShotCount,reticleUtilization:z(r,i,s,l,V.positions.length)}}(e,s,t,l,n)):"Panel"===a&&p(function(e,t,a,r,i){const{dieWidth:s,dieHeight:l,criticalArea:n,defectRate:o,scribeHoriz:c,scribeVert:d,lossyEdgeWidth:m,criticalLayers:p}=e,k=E(o,n,a,p),{width:y,height:b}=h[t],{x:S,y:x}=f(e,!0),P=g(y,b,r,i,0,0,S-r/2,x-i/2,!0,!0).positions,V=M(s,l,c,d,r,i),A=w(P,V.positions,s,l,k,(e=>u(e.x,e.y,m,m,y-2*m,b-2*m))),{defectiveDies:H,partialDies:_,lostDies:W,goodDies:N}=v(A.dies.map((e=>e.dieState)));return{dies:A.dies,diePerRow:V.numCols,diePerCol:V.numRows,defectiveDies:H,partialDies:_,lostDies:W,totalDies:A.dies.length,goodDies:N,fabYield:k,fields:P,fullShotCount:A.fullShotCount,partialShotCount:A.partialShotCount,reticleUtilization:z(r,i,s,l,V.positions.length)}}(e,i,t,l,n))},x=[JSON.stringify(e),a,i,s,t,l,n],(0,r.useEffect)((()=>{const e=setTimeout((()=>b()),100);return()=>clearTimeout(e)}),[...x||[],100]),{results:c,validationError:k}}"function"==typeof SuppressedError&&SuppressedError;const P=(e,t,a,r)=>{e.style.transition=`${t} ${a}ms ${r}`},V=(e,t,a)=>Math.min(Math.max(e,t),a);class A{constructor(e,t){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=e=>{const{width:t,height:a}=e,r=Math.sqrt(Math.pow(t,2)+Math.pow(a,2));return{width:r,height:r}},this.setSize=e=>{const t=this.calculateGlareSize(e);this.glareEl.style.width=`${t.width}px`,this.glareEl.style.height=`${t.height}px`},this.update=(e,t,a,r)=>{this.updateAngle(e,t.glareReverse),this.updateOpacity(e,t,a,r)},this.updateAngle=(e,t)=>{const{xPercentage:a,yPercentage:r}=e,i=180/Math.PI,s=a?Math.atan2(r,-a)*i:0;this.glareAngle=s-(t?180:0)},this.updateOpacity=(e,t,a,r)=>{const{xPercentage:i,yPercentage:s}=e,{glarePosition:l,glareReverse:n,glareMaxOpacity:h}=t,o=a?-1:1,c=r?-1:1,d=n?-1:1;let m=0;switch(l){case"top":m=-i*o*d;break;case"right":m=s*c*d;break;case"bottom":case void 0:m=i*o*d;break;case"left":m=-s*c*d;break;case"all":m=Math.hypot(i,s)}const u=V(m,0,100);this.glareOpacity=u*h/100},this.render=e=>{const{glareColor:t}=e;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${t} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const a={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:t,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},r=this.calculateGlareSize(e),i={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${r.width}px`,height:`${r.height}px`};Object.assign(this.glareWrapperEl.style,a),Object.assign(this.glareEl.style,i)}}class H{constructor(){this.glareAngle=0,this.glareOpacity=0,this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,t)=>{this.updateTilt(e,t),this.updateTiltManualInput(e,t),this.updateTiltReverse(t),this.updateTiltLimits(t)},this.updateTilt=(e,t)=>{const{xPercentage:a,yPercentage:r}=e,{tiltMaxAngleX:i,tiltMaxAngleY:s}=t;this.tiltAngleX=a*i/100,this.tiltAngleY=r*s/100*-1},this.updateTiltManualInput=(e,t)=>{const{tiltAngleXManual:a,tiltAngleYManual:r,tiltMaxAngleX:i,tiltMaxAngleY:s}=t;(null!==a||null!==r)&&(this.tiltAngleX=null!==a?a:0,this.tiltAngleY=null!==r?r:0,e.xPercentage=100*this.tiltAngleX/i,e.yPercentage=100*this.tiltAngleY/s)},this.updateTiltReverse=e=>{const t=e.tiltReverse?-1:1;this.tiltAngleX=t*this.tiltAngleX,this.tiltAngleY=t*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:t}=e;this.tiltAngleX=V(this.tiltAngleX,-90,90),this.tiltAngleY=V(this.tiltAngleY,-90,90),t&&(this.tiltAngleX="x"===t?this.tiltAngleX:0,this.tiltAngleY="y"===t?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:t,tiltMaxAngleY:a}=e;this.tiltAngleXPercentage=this.tiltAngleX/t*100,this.tiltAngleYPercentage=this.tiltAngleY/a*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const _=Object.assign(Object.assign({scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1},{tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null}),{glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"});class W extends r.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=()=>function(e,t,a,r){return new(a||(a=Promise))((function(t,i){function s(e){try{n(r.next(e))}catch(e){i(e)}}function l(e){try{n(r.throw(e))}catch(e){i(e)}}function n(e){var r;e.done?t(e.value):(r=e.value,r instanceof a?r:new a((function(e){e(r)}))).then(s,l)}n((r=r.apply(e,[])).next())}))}(this,0,void 0,(function*(){if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;"function"==typeof e?"granted"===(yield e())&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)})),this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{null!==this.wrapperEl.updateAnimationId&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:t}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),t&&t(e.type)},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:t}=this.props;if(this.setTransitions(),t&&t(e.type),this.props.reset){const e=new CustomEvent("autoreset");this.onMove(e)}},this.processInput=e=>{const{scale:t}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=t;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=t;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=t;break;case"autoreset":const{tiltAngleXInitial:a,tiltAngleYInitial:r,tiltMaxAngleX:i,tiltMaxAngleY:s}=this.props,l=r/s*100;this.wrapperEl.clientPosition.xPercentage=V(a/i*100,-100,100),this.wrapperEl.clientPosition.yPercentage=V(l,-100,100),this.wrapperEl.scale=1}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:t,tiltMaxAngleY:a}=this.props,r=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/t*100,this.wrapperEl.clientPosition.yPercentage=r/a*100,this.wrapperEl.clientPosition.xPercentage=V(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=V(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:t,flipVertically:a,flipHorizontally:r}=this.props;"autoreset"!==e&&"deviceorientation"!==e&&"propChange"!==e&&this.updateClientInput(),t&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,a,r)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let t,a;if(e){const{x:e,y:r}=this.wrapperEl.clientPosition;t=r/window.innerHeight*200-100,a=e/window.innerWidth*200-100}else{const{size:{width:e,height:r,left:i,top:s},clientPosition:{x:l,y:n}}=this.wrapperEl;t=(n-s)/r*200-100,a=(l-i)/e*200-100}this.wrapperEl.clientPosition.xPercentage=V(t,-100,100),this.wrapperEl.clientPosition.yPercentage=V(a,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:t}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),t&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new H,this.initGlare(),this.addEventListeners(),"undefined"==typeof CustomEvent)return;const e=new CustomEvent("autoreset");this.mainLoop(e);const t=new CustomEvent("initial");this.emitOnMove(t)}componentWillUnmount(){null!==this.wrapperEl.updateAnimationId&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),t&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),t&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:t}=this.props;e&&(this.glare=new A(this.wrapperEl.size,t),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:t}=this.props;if(!t)return;let a=0,r=0;this.glare&&(a=this.glare.glareAngle,r=this.glare.glareOpacity),t({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:a,glareOpacity:r,eventType:e.type})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:t}=this.props;P(this.wrapperEl.node,"all",e,t),this.glare&&P(this.glare.glareEl,"opacity",e,t)}render(){const{children:e,className:t,style:a}=this.props;return r.createElement("div",{ref:e=>this.wrapperEl.node=e,onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:t,style:a},e)}}W.defaultProps=_;let N={};function C(e,t="rgba(90,79,69,0.8)"){if(N[t])return N[t];const a=document.createElement("canvas"),r=a.getContext("2d");if(!r)return null;a.width=8,a.height=8,r.beginPath(),r.moveTo(1,a.height-1),r.lineTo(a.width-1,1),r.strokeStyle=t,r.lineWidth=2,r.stroke();const i=e.createPattern(a,"repeat");return i?(N[t]=i,i):void 0}var R,D;function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},O.apply(null,arguments)}var T=function(e){return r.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:200,height:190,viewBox:"41.5 11.5 201 171"},e),R||(R=r.createElement("g",{fill:"#fff"},r.createElement("path",{stroke:"#221815",d:"m100.27 192.12 40.464.307h41.719c34.563-15.607 58.809-50.539 58.809-90.875 0-54.854-44.771-99.631-99.502-99.631-54.863 0-99.661 44.775-99.661 99.631-.003 40.116 23.864 74.88 58.171 90.568z"}),r.createElement("path",{stroke:"#000",d:"M62.357 55.127V41.483a103 103 0 0 0-8.692 13.646zM210.95 30.15v9.799h8.854a99.5 99.5 0 0 0-8.854-9.799zM161.46 3.902v5.593h9.678V6.39a85 85 0 0 0-9.678-2.488zM82.075 55.131H72.42V39.815h9.655z"}),r.createElement("path",{stroke:"#000",d:"M82.075 70.414H72.42V55.127h9.655z"}),r.createElement("path",{stroke:"#000",d:"M82.075 85.596H72.42v-15.32h9.655z"}),r.createElement("path",{stroke:"#000",d:"M82.075 100.88H72.42V85.592h9.655z"}),r.createElement("path",{stroke:"#000",d:"M82.075 116.03H72.42v-15.274h9.655zM82.075 131.35H72.42v-15.318h9.655z"}),r.createElement("path",{stroke:"#000",d:"M82.075 146.5H72.42v-15.299h9.655z"}),r.createElement("path",{stroke:"#000",d:"M82.075 161.69H72.42v-15.332h9.655zM72.144 70.414h-9.627V55.127h9.627z"}),r.createElement("path",{stroke:"#000",d:"M72.144 85.596h-9.627v-15.32h9.627z"}),r.createElement("path",{stroke:"#000",d:"M72.144 100.88h-9.627V85.592h9.627z"}),r.createElement("path",{stroke:"#000",d:"M72.144 116.03h-9.627v-15.274h9.627zM72.144 131.35h-9.627v-15.318h9.627z"}),r.createElement("path",{stroke:"#000",d:"M72.144 146.5h-9.627v-15.299h9.627z"}),r.createElement("path",{stroke:"#000",d:"M72.144 161.69h-9.627v-15.332h9.627zM62.354 85.596H52.69v-15.32h9.664z"}),r.createElement("path",{stroke:"#000",d:"M62.354 100.88H52.69V85.592h9.664z"}),r.createElement("path",{stroke:"#000",d:"M62.354 116.03H52.69v-15.274h9.664zM62.354 131.35H52.69v-15.318h9.664zM91.998 39.944h-9.643V24.658h9.643z"}),r.createElement("path",{stroke:"#000",d:"M91.998 55.131h-9.643V39.815h9.643z"}),r.createElement("path",{stroke:"#000",d:"M91.998 70.414h-9.643V55.127h9.643z"}),r.createElement("path",{stroke:"#000",d:"M91.998 85.596h-9.643v-15.32h9.643z"}),r.createElement("path",{stroke:"#000",d:"M91.998 100.88h-9.643V85.592h9.643z"}),r.createElement("path",{stroke:"#000",d:"M91.998 116.03h-9.643v-15.274h9.643zM91.998 131.35h-9.643v-15.318h9.643z"}),r.createElement("path",{stroke:"#000",d:"M91.998 146.5h-9.643v-15.299h9.643z"}),r.createElement("path",{stroke:"#000",d:"M91.998 161.69h-9.643v-15.332h9.643zM91.998 176.98h-9.643v-15.284h9.643zM101.93 55.131h-9.656V39.815h9.656z"}),r.createElement("path",{stroke:"#000",d:"M101.93 70.414h-9.656V55.127h9.656z"}),r.createElement("path",{stroke:"#000",d:"M101.93 85.596h-9.656v-15.32h9.656z"}),r.createElement("path",{stroke:"#000",d:"M101.93 100.88h-9.656V85.592h9.656z"}),r.createElement("path",{stroke:"#000",d:"M101.93 116.03h-9.656v-15.274h9.656zM101.93 131.35h-9.656v-15.318h9.656z"}),r.createElement("path",{stroke:"#000",d:"M101.93 146.5h-9.656v-15.299h9.656z"}),r.createElement("path",{stroke:"#000",d:"M101.93 161.69h-9.656v-15.332h9.656zM111.7 39.944h-9.646V24.658h9.646zM111.7 70.414h-9.646V55.127h9.646z"}),r.createElement("path",{stroke:"#000",d:"M111.7 85.596h-9.646v-15.32h9.646z"}),r.createElement("path",{stroke:"#000",d:"M111.7 100.88h-9.646V85.592h9.646z"}),r.createElement("path",{stroke:"#000",d:"M111.7 116.03h-9.646v-15.274h9.646zM111.7 131.35h-9.646v-15.318h9.646z"}),r.createElement("path",{stroke:"#000",d:"M111.7 146.5h-9.646v-15.299h9.646zM111.7 176.98h-9.646v-15.284h9.646zM121.64 39.944h-9.669V24.658h9.669z"}),r.createElement("path",{stroke:"#000",d:"M121.637 24.662h-9.669V9.361h9.669zM121.64 55.131h-9.669V39.815h9.669z"}),r.createElement("path",{stroke:"#000",d:"M121.64 70.414h-9.669V55.127h9.669z"}),r.createElement("path",{stroke:"#000",d:"M121.64 85.596h-9.669v-15.32h9.669z"}),r.createElement("path",{stroke:"#000",d:"M121.64 100.88h-9.669V85.592h9.669z"}),r.createElement("path",{stroke:"#000",d:"M121.64 116.03h-9.669v-15.274h9.669zM121.64 131.35h-9.669v-15.318h9.669z"}),r.createElement("path",{stroke:"#000",d:"M121.64 146.5h-9.669v-15.299h9.669z"}),r.createElement("path",{stroke:"#000",d:"M121.64 161.69h-9.669v-15.332h9.669zM121.64 192.11h-9.669v-15.297h9.669zM131.55 39.944h-9.647V24.658h9.647z"}),r.createElement("path",{stroke:"#000",d:"M131.552 24.662h-9.647V9.361h9.647zM131.55 55.131h-9.647V39.815h9.647z"}),r.createElement("path",{stroke:"#000",d:"M131.55 70.414h-9.647V55.127h9.647z"}),r.createElement("path",{stroke:"#000",d:"M131.55 85.596h-9.647v-15.32h9.647z"}),r.createElement("path",{stroke:"#000",d:"M131.55 100.88h-9.647V85.592h9.647z"}),r.createElement("path",{stroke:"#000",d:"M131.55 116.03h-9.647v-15.274h9.647zM131.55 131.35h-9.647v-15.318h9.647z"}),r.createElement("path",{stroke:"#000",d:"M131.55 146.5h-9.647v-15.299h9.647z"}),r.createElement("path",{stroke:"#000",d:"M131.55 161.69h-9.647v-15.332h9.647zM131.55 176.98h-9.647v-15.284h9.647z"}),r.createElement("path",{stroke:"#000",d:"M131.55 192.11h-9.647v-15.297h9.647zM141.5 39.944h-9.66V24.658h9.66z"}),r.createElement("path",{stroke:"#000",d:"M141.5 55.131h-9.66V39.815h9.66z"}),r.createElement("path",{stroke:"#000",d:"M141.5 70.414h-9.66V55.127h9.66z"}),r.createElement("path",{stroke:"#000",d:"M141.5 85.596h-9.66v-15.32h9.66z"}),r.createElement("path",{stroke:"#000",d:"M141.5 100.88h-9.66V85.592h9.66z"}),r.createElement("path",{stroke:"#000",d:"M141.5 116.03h-9.66v-15.274h9.66zM141.5 131.35h-9.66v-15.318h9.66z"}),r.createElement("path",{stroke:"#000",d:"M141.5 146.5h-9.66v-15.299h9.66z"}),r.createElement("path",{stroke:"#000",d:"M141.5 161.69h-9.66v-15.332h9.66zM141.5 176.98h-9.66v-15.284h9.66z"}),r.createElement("path",{stroke:"#000",d:"M141.5 192.11h-9.66v-15.297h9.66zM151.4 39.944h-9.645V24.658h9.645z"}),r.createElement("path",{stroke:"#000",d:"M151.4 24.662h-9.645V9.361h9.645zM151.4 55.131h-9.645V39.815h9.645z"}),r.createElement("path",{stroke:"#000",d:"M151.4 70.414h-9.645V55.127h9.645z"}),r.createElement("path",{stroke:"#000",d:"M151.4 85.596h-9.645v-15.32h9.645z"}),r.createElement("path",{stroke:"#000",d:"M151.4 100.88h-9.645V85.592h9.645z"}),r.createElement("path",{stroke:"#000",d:"M151.4 116.03h-9.645v-15.274h9.645zM151.4 131.35h-9.645v-15.318h9.645z"}),r.createElement("path",{stroke:"#000",d:"M151.4 146.5h-9.645v-15.299h9.645zM151.4 176.98h-9.645v-15.284h9.645z"}),r.createElement("path",{stroke:"#000",d:"M151.4 192.11h-9.645v-15.297h9.645zM161.2 39.944h-9.639V24.658h9.639z"}),r.createElement("path",{stroke:"#000",d:"M161.2 24.662h-9.639V9.361h9.639zM161.2 55.131h-9.639V39.815h9.639z"}),r.createElement("path",{stroke:"#000",d:"M161.2 70.414h-9.639V55.127h9.639z"}),r.createElement("path",{stroke:"#000",d:"M161.2 85.596h-9.639v-15.32h9.639z"}),r.createElement("path",{stroke:"#000",d:"M161.2 100.88h-9.639V85.592h9.639z"}),r.createElement("path",{stroke:"#000",d:"M161.2 116.03h-9.639v-15.274h9.639zM161.2 131.35h-9.639v-15.318h9.639z"}),r.createElement("path",{stroke:"#000",d:"M161.2 146.5h-9.639v-15.299h9.639z"}),r.createElement("path",{stroke:"#000",d:"M161.2 161.69h-9.639v-15.332h9.639zM161.2 176.98h-9.639v-15.284h9.639z"}),r.createElement("path",{stroke:"#000",d:"M161.2 192.11h-9.639v-15.297h9.639zM171.14 39.944h-9.678V24.658h9.678z"}),r.createElement("path",{stroke:"#000",d:"M171.14 24.662h-9.678V9.361h9.678zM171.14 55.131h-9.678V39.815h9.678z"}),r.createElement("path",{stroke:"#000",d:"M171.14 70.414h-9.678V55.127h9.678z"}),r.createElement("path",{stroke:"#000",d:"M171.14 85.596h-9.678v-15.32h9.678z"}),r.createElement("path",{stroke:"#000",d:"M171.14 100.88h-9.678V85.592h9.678z"}),r.createElement("path",{stroke:"#000",d:"M171.14 116.03h-9.678v-15.274h9.678zM171.14 131.35h-9.678v-15.318h9.678z"}),r.createElement("path",{stroke:"#000",d:"M171.14 146.5h-9.678v-15.299h9.678z"}),r.createElement("path",{stroke:"#000",d:"M171.14 161.69h-9.678v-15.332h9.678zM171.14 176.98h-9.678v-15.284h9.678z"}),r.createElement("path",{stroke:"#000",d:"M171.14 192.11h-9.678v-15.297h9.678zM181 39.944h-9.613V24.658H181z"}),r.createElement("path",{stroke:"#000",d:"M181 55.131h-9.613V39.815H181z"}),r.createElement("path",{stroke:"#000",d:"M181 70.414h-9.613V55.127H181z"}),r.createElement("path",{stroke:"#000",d:"M181 85.596h-9.613v-15.32H181z"}),r.createElement("path",{stroke:"#000",d:"M181 100.88h-9.613V85.592H181z"}),r.createElement("path",{stroke:"#000",d:"M181 116.03h-9.613v-15.274H181zM181 131.35h-9.613v-15.318H181z"}),r.createElement("path",{stroke:"#000",d:"M181 146.5h-9.613v-15.299H181z"}),r.createElement("path",{stroke:"#000",d:"M181 161.69h-9.613v-15.332H181zM181 176.98h-9.613v-15.284H181z"}),r.createElement("path",{stroke:"#000",d:"M181 192.11h-9.613v-15.297H181zM190.98 39.944h-9.654V24.658h9.654zM190.98 70.414h-9.654V55.127h9.654z"}),r.createElement("path",{stroke:"#000",d:"M190.98 85.596h-9.654v-15.32h9.654z"}),r.createElement("path",{stroke:"#000",d:"M190.98 100.88h-9.654V85.592h9.654z"}),r.createElement("path",{stroke:"#000",d:"M190.98 116.03h-9.654v-15.274h9.654zM190.98 131.35h-9.654v-15.318h9.654z"}),r.createElement("path",{stroke:"#000",d:"M190.98 146.5h-9.654v-15.299h9.654z"}),r.createElement("path",{stroke:"#000",d:"M190.98 161.69h-9.654v-15.332h9.654zM200.76 39.944h-9.664V24.658h9.664z"}),r.createElement("path",{stroke:"#000",d:"M200.76 55.131h-9.664V39.815h9.664z"}),r.createElement("path",{stroke:"#000",d:"M200.76 70.414h-9.664V55.127h9.664z"}),r.createElement("path",{stroke:"#000",d:"M200.76 85.596h-9.664v-15.32h9.664z"}),r.createElement("path",{stroke:"#000",d:"M200.76 100.88h-9.664V85.592h9.664z"}),r.createElement("path",{stroke:"#000",d:"M200.76 116.03h-9.664v-15.274h9.664zM200.76 131.35h-9.664v-15.318h9.664z"}),r.createElement("path",{stroke:"#000",d:"M200.76 146.5h-9.664v-15.299h9.664zM200.76 176.98h-9.664v-15.284h9.664zM210.67 55.131h-9.646V39.815h9.646z"}),r.createElement("path",{stroke:"#000",d:"M210.67 70.414h-9.646V55.127h9.646z"}),r.createElement("path",{stroke:"#000",d:"M210.67 85.596h-9.646v-15.32h9.646z"}),r.createElement("path",{stroke:"#000",d:"M210.67 100.88h-9.646V85.592h9.646z"}),r.createElement("path",{stroke:"#000",d:"M210.67 116.03h-9.646v-15.274h9.646zM210.67 131.35h-9.646v-15.318h9.646z"}),r.createElement("path",{stroke:"#000",d:"M210.67 146.5h-9.646v-15.299h9.646z"}),r.createElement("path",{stroke:"#000",d:"M210.67 161.69h-9.646v-15.332h9.646zM220.59 70.414h-9.648V55.127h9.648z"}),r.createElement("path",{stroke:"#000",d:"M220.59 85.596h-9.648v-15.32h9.648z"}),r.createElement("path",{stroke:"#000",d:"M220.59 100.88h-9.648V85.592h9.648z"}),r.createElement("path",{stroke:"#000",d:"M220.59 116.03h-9.648v-15.274h9.648zM220.59 131.35h-9.648v-15.318h9.648z"}),r.createElement("path",{stroke:"#000",d:"M220.59 146.5h-9.648v-15.299h9.648z"}),r.createElement("path",{stroke:"#000",d:"M220.59 161.69h-9.648v-15.332h9.648zM230.53 85.596h-9.645v-15.32h9.645z"}),r.createElement("path",{stroke:"#000",d:"M230.53 100.88h-9.645V85.592h9.645z"}),r.createElement("path",{stroke:"#000",d:"M230.53 116.03h-9.645v-15.274h9.645zM230.53 131.35h-9.645v-15.318h9.645z"}),r.createElement("path",{stroke:"#000",strokeMiterlimit:10,d:"m240.15 116.02-9.5.014v-15.28l10.58-.05z"}),r.createElement("path",{stroke:"#000",d:"m240.15 116.02-9.5.014v-15.28l10.58-.05z"}),r.createElement("path",{stroke:"#000",strokeMiterlimit:10,d:"M62.518 41.321v13.802h9.628V39.812h-8.448a23 23 0 0 0-1.18 1.509"}),r.createElement("path",{stroke:"#000",d:"M62.518 41.321v13.802h9.628V39.812h-8.448a23 23 0 0 0-1.18 1.509z"}),r.createElement("path",{stroke:"#000",strokeMiterlimit:10,d:"M62.357 55.127h-8.695c-.327.596-.654 1.21-.975 1.864v13.426h9.667z"}),r.createElement("path",{stroke:"#000",d:"M62.357 55.127h-8.695c-.327.596-.654 1.21-.975 1.864v13.426h9.667z"}),r.createElement("path",{stroke:"#000",strokeMiterlimit:10,d:"M230.52 56.711c-.268-.545-.547-1.071-.793-1.576h-8.846v15.289h9.648V56.711z"}),r.createElement("path",{stroke:"#000",d:"M230.52 56.711c-.268-.545-.547-1.071-.793-1.576h-8.846v15.289h9.648V56.711z"}),r.createElement("path",{stroke:"#000",strokeMiterlimit:10,d:"M220.6 40.96a24 24 0 0 0-.893-1.15h-8.744v15.319h9.645V40.96z"}),r.createElement("path",{stroke:"#000",d:"M220.6 40.96a24 24 0 0 0-.893-1.15h-8.744v15.319h9.645V40.96z"}),r.createElement("path",{stroke:"#000",strokeMiterlimit:10,d:"M179.36 9.364h-7.963v15.3h9.609V10.049c-.527-.248-1.082-.447-1.646-.685"}),r.createElement("path",{stroke:"#000",d:"M179.36 9.364h-7.963v15.3h9.609V10.049c-.527-.248-1.082-.447-1.646-.685zM111.7 6.566a105 105 0 0 0-7.963 2.929h7.963zM111.97 6.48v3.005h9.667V3.963a114 114 0 0 0-9.667 2.517zM121.91 3.912v5.582h9.646v-7.05a88 88 0 0 0-9.646 1.468zM141.5 1.929c-3.273.01-6.479.169-9.659.506v7.05h9.659zM151.4 9.488V2.397a100 100 0 0 0-9.645-.482V9.49zM151.56 2.413v7.08h9.641V3.861a90 90 0 0 0-9.641-1.448z"}),r.createElement("path",{stroke:"#000",d:"M171.39 6.443V9.49h8.318c-2.746-1.123-5.482-2.164-8.318-3.047zM190.98 15.072a101 101 0 0 0-9.658-4.881V24.67h9.658zM191.1 15.139v9.521h9.656v-3.232a103 103 0 0 0-9.656-6.289zM201.03 21.643v3.018h3.848a104 104 0 0 0-3.848-3.018z"}),r.createElement("path",{stroke:"#000",d:"M204.87 24.66h-3.838v15.289h9.639V29.876c-1.853-1.795-3.787-3.571-5.801-5.216zM220.89 41.321v13.802h8.846a104 104 0 0 0-8.846-13.802zM230.66 56.976v13.445h5.57a95 95 0 0 0-5.57-13.445z"}),r.createElement("path",{stroke:"#000",d:"M236.21 70.281h-5.553v15.316h9.301c-.844-5.261-2.123-10.358-3.748-15.316zM236.72 131.21h-6.068v14.854c2.4-4.75 4.462-9.707 6.068-14.854zM220.89 146.36v15.326h.09c3.619-4.799 6.791-9.941 9.549-15.326zM210.95 172.95a101.5 101.5 0 0 0 9.645-10.771v-.477h-9.645zM201.03 176.98h5.553c1.418-1.211 2.758-2.479 4.096-3.768V161.7h-9.646z"}),r.createElement("path",{stroke:"#000",d:"M201.03 176.82v4.611a91 91 0 0 0 5.713-4.611zM191.1 187.91c3.33-1.943 6.563-3.986 9.656-6.27v-4.83H191.1zM181.33 192.12h1.652c2.73-1.23 5.404-2.658 8.002-4.139v-11.162h-9.654zM101.93 176.82h-9.658v11.156c2.602 1.486 5.256 2.904 8.002 4.146h1.656zM82.367 181.51c3.071 2.289 6.307 4.373 9.638 6.295v-10.982h-9.638zM82.082 181.28v-4.475h-5.556a86 86 0 0 0 5.556 4.475z"}),r.createElement("path",{stroke:"#000",d:"M72.428 173.05a124 124 0 0 0 4.264 3.939h5.396v-15.291h-9.657z"}),r.createElement("path",{stroke:"#000",strokeMiterlimit:10,d:"M62.518 161.92a103 103 0 0 0 9.628 10.867v-11.086h-9.628z"}),r.createElement("path",{stroke:"#000",d:"M62.518 161.92a103 103 0 0 0 9.628 10.867v-11.086h-9.628z"}),r.createElement("path",{stroke:"#000",strokeMiterlimit:10,d:"M62.357 146.36h-9.548c2.717 5.385 5.893 10.537 9.509 15.326h.039z"}),r.createElement("path",{stroke:"#000",d:"M62.357 146.36h-9.548c2.717 5.385 5.893 10.537 9.509 15.326h.039z"}),r.createElement("path",{stroke:"#000",strokeMiterlimit:10,d:"M52.45 116.03h-9.281c.764 5.266 1.963 10.359 3.52 15.316h5.764z"}),r.createElement("path",{stroke:"#000",d:"M52.45 116.03h-9.281c.764 5.266 1.963 10.359 3.52 15.316h5.764z"}),r.createElement("path",{stroke:"#000",d:"M52.45 145.63v-14.418h-5.791a99 99 0 0 0 5.791 14.418zM52.45 85.595h-9.017c-.268 1.479-.456 2.978-.654 4.501l-.522 10.848 10.184-.06V85.595zM52.45 85.595V70.276h-5.269a100 100 0 0 0-3.758 15.319z"}),r.createElement("path",{stroke:"#000",d:"M52.45 70.413V57.482a100.5 100.5 0 0 0-5.325 12.933zM72.143 39.946v-9.538a99 99 0 0 0-8.563 9.538zM72.428 39.946h9.657v-15.29h-3.54c-2.145 1.732-4.146 3.589-6.117 5.513z"}),r.createElement("path",{stroke:"#000",d:"M82.082 21.882c-1.2.902-2.393 1.834-3.54 2.776h3.54z"}),r.createElement("path",{stroke:"#000",strokeMiterlimit:10,d:"M82.367 21.655v3.005h9.638v-9.344c-3.353 1.944-6.576 4.027-9.638 6.339"}),r.createElement("path",{stroke:"#000",d:"M82.367 21.655v3.005h9.638v-9.344c-3.353 1.944-6.576 4.027-9.638 6.339zM101.93 10.274a99 99 0 0 0-9.658 4.892v9.509h9.658z"}),r.createElement("path",{stroke:"#000",strokeMiterlimit:10,d:"M102.05 24.66h9.647V9.359h-7.615c-.664.277-1.352.565-2.032.854z"}),r.createElement("path",{stroke:"#000",d:"M102.05 24.66h9.647V9.359h-7.615c-.664.277-1.352.565-2.032.854z"}),r.createElement("path",{stroke:"#000",strokeMiterlimit:10,d:"M240.32 87.957a175 175 0 0 0-.354-2.36h-9.314v15.29l10.58.099z"}),r.createElement("path",{stroke:"#000",d:"M240.32 87.957a175 175 0 0 0-.354-2.36h-9.314v15.29l10.58.099zM230.66 116.03v15.316h6.02a98 98 0 0 0 3.52-15.316zM230.53 131.21h-9.648v15.301h9.549c.029-.061.068-.148.102-.199z"}),r.createElement("path",{stroke:"#000",strokeMiterlimit:10,d:"M52.885 146.5h9.459v-15.301h-9.668v14.953c.089.1.139.208.209.348"}),r.createElement("path",{stroke:"#000",d:"M52.885 146.5h9.459v-15.301h-9.668v14.953c.089.1.139.208.209.348z"}),r.createElement("path",{stroke:"#000",strokeMiterlimit:10,d:"M43.165 116.03h9.277v-15.28l-10.183.02.526 11.891c.123 1.129.221 2.268.38 3.369"}),r.createElement("path",{stroke:"#000",d:"M43.165 116.03h9.277v-15.28l-10.183.02.526 11.891c.123 1.129.221 2.268.38 3.369z"}))),D||(D=r.createElement("path",{fill:"#211714",stroke:"#211714",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,d:"M101.93 39.941v-15.29h-9.66v15.29zm0 137.04v-15.289h-9.66v15.289zm9.76-121.85v-15.32h-9.64v15.32zm0 106.56v-15.328h-9.64v15.328zm0 30.42v-15.303h-9.64v15.303zm9.95-15.131v-15.289h-9.669v15.289zM141.5 24.66V9.359h-9.66v15.303zm9.901 137.03v-15.328h-9.646v15.328zm39.58-106.56V39.81h-9.646v15.32zm0 121.85v-15.289h-9.646v15.289zm9.779-15.289v-15.328h-9.658v15.328z"})))};function L(e){const t=(0,r.useRef)(null),a={good:"rgba(6,231,6,0.77)",defective:"rgba(243,81,67,0.68)",partial:"rgba(249,249,27,0.68)",lost:"rgba(151,138,129,0.8)"};return(0,r.useEffect)((()=>{if(!t.current)return;const r=t.current.getContext("2d");r&&(r.clearRect(0,0,t.current.width,t.current.height),!e.results||e.results.dies.length>e.maxDies||e.results.dies.forEach((t=>{r.fillStyle=a[t.dieState],r.fillRect(e.mmToPxScale*t.x,e.mmToPxScale*t.y,e.mmToPxScale*t.width,e.mmToPxScale*t.height)})))}),[JSON.stringify(e.results)]),e.results?e.results.dies.length>e.maxDies?i().createElement("div",{className:"wafer-canvas__message",role:"status"},i().createElement("span",null,"Too many dies to visualize")):i().createElement("canvas",{className:"wafer-canvas__die-map",ref:t,width:e.waferWidth*e.mmToPxScale,height:e.waferHeight*e.mmToPxScale}):i().createElement("div",{className:"wafer-canvas__message--error",role:"status"},i().createElement("span",null,e.validationError||"Invalid input(s) provided"))}function F(e){const t=(0,r.useRef)(null);return(0,r.useEffect)((()=>{if(!t.current)return;const a=t.current.getContext("2d");a&&(a.clearRect(0,0,t.current.width,t.current.height),!e.results||e.results.dies.length>e.maxDies||(a.fillStyle="rgba(217,217,210,0.76)","Panel"===e.shape?a.fillRect(0,0,t.current.width,t.current.height):(a.arc(t.current.width/2,t.current.width/2,t.current.width/2,0,2*Math.PI,!1),a.fill()),e.results.dies.forEach((t=>{a.clearRect(e.mmToPxScale*t.x,e.mmToPxScale*t.y,e.mmToPxScale*t.width,e.mmToPxScale*t.height)}))))}),[JSON.stringify(e.results)]),i().createElement("canvas",{className:"wafer-canvas__die-decorative",ref:t,width:e.waferWidth*e.mmToPxScale,height:e.waferHeight*e.mmToPxScale})}const Y=3,I=5e4;function X(e){const t=(0,r.useRef)(null);return(0,r.useEffect)((()=>{if(!t.current)return;const a=t.current.getContext("2d");a&&(a.clearRect(0,0,t.current.width,t.current.height),!e.results||e.results.dies.length>I||(a.strokeStyle="blue",e.results.fields.forEach((t=>{a.beginPath(),a.moveTo(Y*t.x,Y*t.y),a.lineTo(Y*t.x+Y*e.fieldWidth,Y*t.y),a.lineTo(Y*t.x+Y*e.fieldWidth,Y*t.y+Y*e.fieldHeight),a.stroke()})),a.strokeStyle="rgba(0,0,0,0.5)",a.setLineDash([8,5]),a.beginPath(),a.moveTo(0,e.waferHeight*Y/2),a.lineTo(e.waferWidth*Y,e.waferHeight*Y/2),a.moveTo(e.waferWidth*Y/2,0),a.lineTo(e.waferWidth*Y/2,e.waferHeight*Y),a.stroke(),a.setLineDash([])))}),[JSON.stringify(e.results)]),i().createElement("canvas",{className:"wafer-canvas__shot-map",ref:t,width:e.waferWidth*Y,height:e.waferHeight*Y})}function $(e){const t=(0,r.useRef)(null),a=e.waferWidth*Y,s=e.waferHeight*Y;return(0,r.useEffect)((()=>{if(!t.current||0===e.waferWidth||e.lossyEdgeWidth>e.waferWidth/2)return;const r=t.current.getContext("2d");if(!r)return;const i=e.lossyEdgeWidth*Y,l=C(r);if(l&&(r.fillStyle=l),r.clearRect(0,0,t.current.width,t.current.height),"Wafer"===e.shape){const t=a/2,s=t-i;r.beginPath(),r.arc(t,t,t,0,2*Math.PI,!1),r.arc(t,t,s,0,2*Math.PI,!0),r.fill();const l=(e.waferHeight-e.notchKeepOutHeight)*Y;r.clearRect(0,l,a,e.notchKeepOutHeight*Y);const n=C(r,"black");n&&(r.fillStyle=n),r.fillRect(0,l,a,e.notchKeepOutHeight*Y)}else"Panel"===e.shape&&(r.fillRect(0,0,t.current.width,t.current.height),r.clearRect(i,i,a-2*i,s-2*i))}),[e.lossyEdgeWidth,e.notchKeepOutHeight,e.shape,e.waferWidth,e.waferHeight]),i().createElement("canvas",{className:"wafer-canvas__edge",ref:t,width:a,height:s})}function B(e){const[t,a]=(0,r.useState)(0),[s,l]=(0,r.useState)(0);return e.easterEggEnabled?i().createElement(W,{glareEnable:!0,glareMaxOpacity:.75,scale:1.05,className:"tsmc-logo"},i().createElement(T,null)):i().createElement("div",{role:"presentation","aria-label":"A rendering of a silicon wafer"},i().createElement(W,{key:e.shape,glareEnable:!0,glareMaxOpacity:.25,scale:1.05,onMove:function({tiltAngleXPercentage:e,tiltAngleYPercentage:t}){a(e),l(t)},className:"wafer-canvas "+("Wafer"===e.shape?"wafer-canvas--disc":""),glareBorderRadius:"Wafer"===e.shape?"100%":"0"},i().createElement("div",{className:"wafer-canvas__mirror-background",style:{backgroundPositionX:s/2+t/4+"% "}}),i().createElement(F,{results:e.results,shape:e.shape,waferWidth:e.waferWidth,waferHeight:e.waferHeight,mmToPxScale:Y,maxDies:I}),i().createElement(L,{results:e.results,waferWidth:e.waferWidth,waferHeight:e.waferHeight,mmToPxScale:Y,maxDies:I,validationError:e.validationError}),e.showShotMap&&i().createElement(X,{results:e.results,waferWidth:e.waferWidth,waferHeight:e.waferHeight,fieldWidth:e.fieldWidth,fieldHeight:e.fieldHeight}),i().createElement($,{lossyEdgeWidth:e.lossyEdgeWidth,waferWidth:e.waferWidth,waferHeight:e.waferHeight,shape:e.shape,notchKeepOutHeight:e.notchKeepOutHeight}),i().createElement("div",{className:"wafer-canvas__watermark"})))}function j(e,t){return null==e?"—":`${parseFloat(e.toFixed(4))}${t||""}`}function K(e){const t=(a=e.shape,r=e.waferWidth,s=e.waferHeight,"Panel"===a?r*s/100:Math.PI*Math.pow(r/2,2)/100);var a,r,s;const l=e.results?.goodDies&&function(e,t,a,r){return r-a*e*t/100}(e.dieWidth,e.dieHeight,e.results.goodDies,t);return i().createElement("div",{className:"result-stats","aria-busy":!e.results},i().createElement("ul",{className:"result-stats__list"},i().createElement("li",{className:"result-stats__result result-stats__result--total-dies"},"Total Dies: ",j(e.results?.totalDies)),i().createElement("li",{className:"result-stats__result result-stats__result--good-dies"},"Good Dies: ",j(e.results?.goodDies)),i().createElement("li",{className:"result-stats__result result-stats__result--defective-dies"},"Defective Dies: ",j(e.results?.defectiveDies)),i().createElement("li",{className:"result-stats__result result-stats__result--partial-dies"},"Partial Dies: ",j(e.results?.partialDies)),i().createElement("li",{className:"result-stats__result result-stats__result--lost-dies"},"Excluded Dies: ",j(e.results?.lostDies)),i().createElement("li",{className:"result-stats__result result-stats__result--yield"},"Fab Yield:"," ",j(e.results?.fabYield&&100*e.results.fabYield,"%"))),i().createElement("ul",{className:"result-stats__list"},i().createElement("li",{className:"result-stats__result result-stats__result--shot-count"},"Exposures:"," ",j((e.results?.fullShotCount||0)+(e.results?.partialShotCount||0))," ","(",j(e.results?.fullShotCount)," full,"," ",j(e.results?.partialShotCount)," partial)"),"Panel"===e.shape?i().createElement(i().Fragment,null,i().createElement("li",{className:"result-stats__result result-stats__result--panel-width"},"Panel Width: ",e.waferWidth,"mm"),i().createElement("li",{className:"result-stats__result result-stats__result--panel-height"},"Panel Height: ",e.waferHeight,"mm")):i().createElement("li",{className:"result-stats__result result-stats__result--panel-diameter"},"Wafer Diameter: ",e.waferWidth,"mm"),i().createElement("li",{className:"result-stats__result result-stats__result--wafer-area"},e.shape," Area: ",j(t,"cm²")),i().createElement("li",{className:"result-stats__result result-stats__result--die-area"},"Total Die Area:"," ",j(e.results?.totalDies&&e.dieWidth*e.dieHeight*(e.results.totalDies-e.results.lostDies)/100,"cm²")),i().createElement("li",{className:"result-stats__result result-stats__result--waste-area"},"Total Waste Area: ",j(l,"cm²")," (",l&&j(l/t*100,"%"),")")))}function q(e){return i().createElement("div",{className:"result-stats","aria-busy":!e.results},i().createElement("ul",{className:"result-stats__list"},i().createElement("li",{className:"result-stats__result result-stats__result--die-per-reticle"},"Die Per Reticle:"," ",j((e.results?.diePerRow||0)*(e.results?.diePerCol||0))," ","(",j(e.results?.diePerRow),"×",j(e.results?.diePerCol),")")),i().createElement("ul",{className:"result-stats__list"},i().createElement("li",{className:"result-stats__result result-stats__result--reticle-utilization"},"Reticle Utilization:"," ",j(e.results?.reticleUtilization&&100*e.results?.reticleUtilization,"%"))))}const U=e.p+"images/semianalysis-logo-full-360px.4e3d2397.png";function G({outputRef:e}){const[t,a]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const t=new IntersectionObserver((e=>{e.forEach((e=>{a(!e.isIntersecting)}))}),{root:null,threshold:0});return e.current&&t.observe(e.current),()=>{e.current&&t.unobserve(e.current)}}),[e]),i().createElement("button",{type:"button",className:t?"jump-to-results":"jump-to-results--hidden",onClick:()=>{e.current&&e.current.scrollIntoView({behavior:"smooth",block:"start"})}},"Jump to Results")}function J(e,t,a){const r=parseFloat(e);return r<t?t.toString():r>a?a.toString():e}function Q(e){const t=(0,r.useRef)(null),[a,s]=(0,r.useState)(0),[l,n]=(0,r.useState)(0);return(0,r.useEffect)((()=>{if(!t.current)return;const a=t.current.getContext("2d");if(!a)return;a.clearRect(0,0,t.current.width,t.current.height);const{dieWidth:r,scribeHoriz:i}=e,s=e.halfField?2*e.dieHeight:e.dieHeight,l=e.halfField?2*e.scribeVert:e.scribeVert,n=M(r,s,i,l,26,33);a.fillRect(0,0,t.current.width,t.current.height),n.positions.forEach((t=>{a.clearRect(e.mmToPxScale*t.x,e.mmToPxScale*t.y,e.mmToPxScale*r,e.mmToPxScale*s)}))}),[e.dieWidth,e.dieHeight,e.scribeHoriz,e.scribeVert,e.halfField,e.showReticleBackground]),i().createElement("div",{role:"presentation","aria-label":"A rendering of the reticle"},i().createElement(W,{key:e.showReticleBackground?"background":"no-background",glareEnable:e.showReticleBackground,glareMaxOpacity:.75,scale:e.showReticleBackground?1.05:1,tiltEnable:e.showReticleBackground,className:e.showReticleBackground?"reticle-canvas--background":"reticle-canvas",onMove:function({tiltAngleXPercentage:e,tiltAngleYPercentage:t}){s(e),n(t)}},i().createElement("canvas",{className:"reticle-canvas__inner",ref:t,width:26*e.mmToPxScale,height:33*e.mmToPxScale,style:{backgroundPositionX:l/2-50+"% "}})))}const Z=e=>i().createElement("fieldset",null,i().createElement("legend",null,"Shape"),i().createElement("div",{className:"radio-group"},["Wafer","Panel"].map((t=>i().createElement("label",{className:"radio-item",key:t},i().createElement("input",{type:"radio",name:"shape",checked:e.shape===t,onChange:a=>e.setShape(t)}),i().createElement("span",null,t)))))),ee=e=>i().createElement("label",{className:"select"},"Diameter",i().createElement("select",{value:e.selectedSize,onChange:e.handleSizeChange},Object.entries(o).map((([e,t])=>i().createElement("option",{key:e,value:e},t.name))))),te=e=>i().createElement("label",{className:"select"},"Dimensions",i().createElement("select",{value:e.selectedSize,onChange:e.handleSizeChange},Object.entries(h).map((([e,t])=>i().createElement("option",{key:e,value:e},t.name))))),ae=e=>i().createElement("label",{className:"select"},"Yield Calculation Model",i().createElement("select",{value:e.selectedModel,onChange:e.handleModelChange},Object.entries(c).map((([e,t])=>i().createElement("option",{key:e,value:e},t.name))))),re=function(){const[e,t]=(0,r.useState)("8"),[a,c]=(0,r.useState)("8"),[d,m]=(0,r.useState)(!1),[u,p]=(0,r.useState)("64"),[g,E]=(0,r.useState)("0.1"),[v,f]=(0,r.useState)("3"),[M,w]=(0,r.useState)("5"),[z,k]=(0,r.useState)(!0),[y,b]=(0,r.useState)(!0),[S,P]=(0,r.useState)(!0),[V,A]=(0,r.useState)(!0),[H,_]=(0,r.useState)(!1),[W,N]=(0,r.useState)("0.2"),[C,R]=(0,r.useState)("0.2"),[D,O]=(0,r.useState)("0"),[T,L]=(0,r.useState)("0"),[F,Y]=(0,r.useState)("Wafer"),[I,X]=(0,r.useState)("s300mm"),[$,j]=(0,r.useState)("s300mm"),[re,ie]=(0,r.useState)("murphy"),[se,le]=(0,r.useState)("25"),ne=(0,r.useRef)(parseFloat(e)/parseFloat(a)),he=H?16.5:33,{results:oe,validationError:ce}=x({dieWidth:parseFloat(e),dieHeight:parseFloat(a),criticalArea:parseFloat(u),defectRate:parseFloat(g),lossyEdgeWidth:parseFloat(v),notchKeepOutHeight:parseFloat(M),scribeHoriz:parseFloat(W),scribeVert:parseFloat(C),transHoriz:parseFloat(D),transVert:parseFloat(T),criticalLayers:parseFloat(se)},re,F,I,$,26,he),de=function(){const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=["t","s","m","c"];let a,r=0;const i=i=>{clearTimeout(a),i.key===e[r]?r===e.length-1?t(!0):r++:r=0,a=setTimeout((()=>r=0),2e3)};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)}),[]),e}(),me=(0,r.useRef)(null),ue="Panel"===F?h[I].width:o[$].width,pe="Panel"===F?h[I].height:o[$].width,{width:ge,height:Ee}=function(e,t,a,r,i,s,l){const n=e?26:t/4,h=e?l:a/4;return r?{width:Math.min(n,h*i),height:Math.min(h,n/i)}:{width:n,height:h}}(y,ue,pe,d,ne.current,0,he);(0,r.useEffect)((()=>{parseFloat(e)>ge&&t(ge.toString())}),[ge]),(0,r.useEffect)((()=>{parseFloat(a)>Ee&&c(Ee.toString())}),[Ee]),(0,r.useEffect)((()=>{const t=parseFloat(e),r=parseFloat(a);t>=n&&r>=n&&(ne.current=t/r,p(""+t*r))}),[e,a]);const ve=e=>{"Panel"===F?X(e.target.value):"Wafer"===F&&j(e.target.value)};return i().createElement("div",{className:"container"},i().createElement("div",{className:"columns"},i().createElement("div",{className:"input panel"},i().createElement("h2",null,"Die size"),i().createElement("div",{className:"input-row--two-col"},i().createElement(l,{label:"Width (mm)",value:e,onChange:e=>{(e=>{const a=parseFloat(e);if(isNaN(a)||0===a)return void t(e);const r=J(e,n,ge);if(t(r),d){const e=J(r,n,ge);c(e)}})(e.target.value)},max:ge}),i().createElement(l,{label:"Height (mm)",value:a,onChange:e=>{(e=>{const a=parseFloat(e);if(isNaN(a)||0===a)return void c(e);const r=J(e,n,Ee);if(c(r),d){const e=J(r,n,Ee);t(e)}})(e.target.value)},max:Ee})),i().createElement("div",{className:"input-row"},i().createElement(s,{label:"Maintain Aspect Ratio",onChange:e=>{m(e.target.checked)},checked:d}),i().createElement(s,{label:`Reticle Limit (26mm x ${he}mm)`,onChange:e=>{b(e.target.checked)},checked:y})),i().createElement("div",{className:"input-row--two-col"},i().createElement(l,{label:"Scribe Line Minimum X (mm)",value:W,onChange:e=>N(e.target.value)}),i().createElement(l,{label:"Scribe Line Minimum Y (mm)",value:C,onChange:e=>R(e.target.value)})),i().createElement("div",{className:"input-row"},i().createElement(s,{label:"All Critical",onChange:t=>{p(""+parseFloat(e)*parseFloat(a)),k(t.target.checked)},checked:z})),i().createElement("div",{className:"input-row"},i().createElement(l,{label:"Critical Area (mm²)",value:u,isDisabled:z,onChange:e=>p(e.target.value),max:parseFloat(u)})),i().createElement("hr",null),i().createElement("h2",null,"Reticle"),i().createElement("div",{className:"input-row"},i().createElement(s,{label:"Half Field Exposures (High NA)",onChange:e=>{_(e.target.checked)},checked:H})),i().createElement("div",{className:"input-row--two-col"},i().createElement(l,{label:"Reticle Offset Horizontal (mm)",value:D,onChange:e=>O(e.target.value)}),i().createElement(l,{label:"Reticle Offset Vertical (mm)",value:T,onChange:e=>L(e.target.value)})),i().createElement("hr",null),i().createElement("h2",null,"Substrate"),i().createElement("div",{className:"input-row"},i().createElement(Z,{shape:F,setShape:Y})),i().createElement("div",{className:"input-row"},"Panel"===F&&i().createElement(te,{selectedSize:I,handleSizeChange:ve}),"Wafer"===F&&i().createElement(ee,{selectedSize:$,handleSizeChange:ve})),i().createElement("div",{className:"input-row"},i().createElement(l,{label:"Defect Rate (#/cm²)",value:g,min:0,onChange:e=>E(e.target.value)})),i().createElement("div",{className:"input-row"},i().createElement(l,{label:"Edge Loss (mm)",value:v,onChange:e=>f(e.target.value),max:Math.min(ue,pe)/2})),"Wafer"===F&&i().createElement("div",{className:"input-row"},i().createElement(l,{label:"Notch keep-out (mm)",value:M,onChange:e=>w(e.target.value),max:Math.min(ue,pe)/2})),i().createElement("hr",null),i().createElement("h2",null,"Options"),i().createElement("div",{className:"input-row"},i().createElement(ae,{selectedModel:re,handleModelChange:e=>ie(e.target.value)})),"bose-einstein"===re&&i().createElement("div",{className:"input-row"},i().createElement(l,{label:"Critical Layers",value:se,onChange:e=>le(e.target.value),min:0,max:100})),i().createElement(G,{outputRef:me})),i().createElement("div",{className:"output",ref:me},i().createElement("div",{className:"panel"},i().createElement("h2",null,"Wafer Results"),i().createElement(B,{results:oe,shape:F,lossyEdgeWidth:parseFloat(v),notchKeepOutHeight:parseFloat(M),waferWidth:ue,waferHeight:pe,easterEggEnabled:de,showShotMap:S,fieldWidth:26,fieldHeight:he,validationError:ce}),i().createElement(s,{label:"Show Reticle Shot Grid",onChange:e=>{P(e.target.checked)},checked:S}),i().createElement("hr",null),i().createElement(K,{results:de?null:oe,shape:F,dieWidth:parseFloat(e),dieHeight:parseFloat(a),waferWidth:"Panel"===F?h[I].width:o[$].width,waferHeight:"Panel"===F?h[I].height:o[$].width})),i().createElement("div",{className:"panel"},i().createElement("h2",null,"Reticle Results"),i().createElement(Q,{dieWidth:parseFloat(e),dieHeight:parseFloat(a),scribeHoriz:parseFloat(W),scribeVert:parseFloat(C),mmToPxScale:12,showReticleBackground:V,halfField:H}),i().createElement(s,{label:"Show Illustrative Background",onChange:e=>{A(e.target.checked)},checked:V}),i().createElement("hr",null),i().createElement(q,{results:de?null:oe})),i().createElement("a",{href:"https://www.semianalysis.com/",target:"_blank",className:"logo"},i().createElement("img",{alt:"SemiAnalysis logo",src:U,width:180,height:60})))))},ie=window.ReactJSXRuntime;document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("die-yield-calculator");a().render((0,ie.jsx)(re,{}),e)}))})();